To run this example, we need dkubex with kubeflow and flyte enabled.
This example requires the pytorch plugin enabled in flyte and also gang scheduling enabled in kubeflow training operator.

Build docker image
------------------
docker build -t <repo>:<tag> -f mnist-lightning-dist.dockerfile .
docker push -t <repo>:<tag>

Run the workflow
----------------
Update NUM_NODES, NUM_DEVICES, CONTAINER_IMAGE, MLFLOW_TRACKING_TOKEN and MLFLOW_TRACKING_URI in the mnist-lightning-dist.py and run
pyflyte run --remote mnist-lightning-dist.py pl_training_wf
